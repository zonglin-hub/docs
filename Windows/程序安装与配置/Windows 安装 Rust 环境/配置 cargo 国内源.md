å­—èŠ‚è·³åŠ¨æä¾›çš„å…¬ç›Šé•œåƒ [RsProxy](https://rsproxy.cn/#getStarted) [^1]

[^1]: ç”±äºå›½å†…æ‹‰å– crates.io ä»¥åŠå®‰è£… Rust ä¼šé¢ä¸´æµé‡å‡ºå¢ƒä¸ç¨³å®šçš„é—®é¢˜ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå›½å†…é•œåƒä»£ç†ä»¥å¸®åŠ©å›½å†… Rust ç”Ÿæ€å‘å±•ï¼Œæ¬¢è¿å¤§å®¶ä½¿ç”¨ã€‚

æ‰¾åˆ°å½“å‰ç”¨æˆ·ç›®å½•ä¸‹ `.cargo` æ–‡ä»¶å¤¹ï¼Œå»ºç«‹ `config` æ–‡ä»¶ï¼š

```bash
touch ~/.cargo/config.toml
vim ~/.cargo/config.toml
```

å¹¶è¾“å…¥ä¸‹é¢å†…å®¹ï¼š

```toml
[source.crates-io]
registry = "https://github.com/rust-lang/crates.io-index"
# æŒ‡å®šé•œåƒ
replace-with = 'é•œåƒæºå' # å¦‚ï¼štunaã€sjtuã€ustcï¼Œæˆ–è€… rustcc

# æ³¨ï¼šä»¥ä¸‹æºé…ç½®ä¸€ä¸ªå³å¯ï¼Œæ— éœ€å…¨éƒ¨

# ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦
[source.ustc]
registry = "git://mirrors.ustc.edu.cn/crates.io-index"

# ä¸Šæµ·äº¤é€šå¤§å­¦
[source.sjtu]
registry = "https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index"

# æ¸…åå¤§å­¦
[source.tuna]
registry = "https://mirrors.tuna.tsinghua.edu.cn/git/crates.io-index.git"

# rustccç¤¾åŒº
[source.rustcc]
registry = "https://code.aliyun.com/rustcc/crates.io-index.git"
```


---

å…³äºæ›´æ¢Cargoé•œåƒæºåæ˜¯å¦éœ€è¦æ¸…ç†ç¼“å­˜ï¼Œé€šå¸¸æƒ…å†µä¸‹**ä¸æ˜¯å¿…é¡»çš„**ï¼Œä½†**æ¨èæ¸…ç†**ï¼Œç‰¹åˆ«æ˜¯é‡åˆ°é—®é¢˜æ—¶ã€‚è¿™èƒ½ç¡®ä¿Cargoä»æ–°çš„é•œåƒæºé‡æ–°ä¸‹è½½ä¾èµ–ï¼Œé¿å…å› æ—§ç¼“å­˜å¼•å‘å†²çªã€‚

### ğŸ§¹ æ¸…ç†ç¼“å­˜çš„æ–¹æ³•

ä½ å¯ä»¥æ ¹æ®æƒ…å†µé€‰æ‹©ä»¥ä¸‹ä¸€ç§æˆ–å¤šç§æ–¹æ³•æ¥æ¸…ç†ç¼“å­˜ï¼š

```bash
rm -rf ~/.cargo/.global-cache \
		   ~/.cargo/.package-cache \ # åˆ é™¤Cargo Homeä¸‹çš„ç‰¹å®šç¼“å­˜æ–‡ä»¶
		   ~/.cargo/.package-cache-mutate \
		   ~/.cargo/registry/cache \ # åˆ é™¤å·²ä¸‹è½½çš„ä¾èµ–åŒ…å‹ç¼©æ–‡ä»¶åŠå…¶è§£å‹åçš„æºä»£ç 
		   ~/.cargo/registry/src \
		   ~/.cargo/registry/index \
```

### ğŸ” éªŒè¯é…ç½®ä¸åç»­æ­¥éª¤

æ¸…ç†ç¼“å­˜åï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•éªŒè¯æ–°çš„é•œåƒæºæ˜¯å¦ç”Ÿæ•ˆï¼š

1.  **åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„é¡¹ç›®è¿›è¡Œæµ‹è¯•**ï¼šè¿™æ˜¯ä¸€ä¸ªéå¸¸å¯é çš„æ–¹æ³•ã€‚
    ```bash
    cargo new test_mirror
    cd test_mirror
    # åœ¨ `Cargo.toml` ä¸­æ·»åŠ ä¸€ä¸ªä¾èµ–ï¼Œä¾‹å¦‚ `serde = "1.0"`
    cargo build
    ```
    è§‚å¯Ÿ`cargo build`ä¸‹è½½ä¾èµ–æ—¶è¾“å‡ºçš„URLï¼Œå¦‚æœæ˜¾ç¤ºçš„æ˜¯ä½ é…ç½®çš„é•œåƒç«™åœ°å€ï¼Œå°±è¯´æ˜é…ç½®æˆåŠŸäº†ã€‚

2.  **ä½¿ç”¨è¯¦ç»†æ¨¡å¼æ„å»º**ï¼šåœ¨ç°æœ‰é¡¹ç›®ä¸­æ‰§è¡Œ`cargo build -v`ï¼Œåœ¨è¯¦ç»†çš„è¾“å‡ºä¿¡æ¯ä¸­ï¼Œç•™æ„ä¸‹è½½ä¾èµ–çš„é“¾æ¥æ˜¯å¦æ¥è‡ªæ–°é•œåƒæºã€‚

### ğŸ’¡ å…¶ä»–ä¼˜åŒ–å»ºè®®

- **ä½¿ç”¨ç¨€ç–åè®®**ï¼šå¦‚æœä½ çš„Cargoç‰ˆæœ¬åœ¨**1.68ä»¥ä¸Š**ï¼Œå»ºè®®åœ¨`config.toml`ä¸­ä½¿ç”¨æ›´é«˜æ•ˆçš„**ç¨€ç–ç´¢å¼•åè®®**ï¼Œå°†é•œåƒåœ°å€æ”¹ä¸ºä»¥ `sparse+https://` å¼€å¤´ã€‚
- **æ£€æŸ¥é…ç½®æ–‡ä»¶ä½ç½®**ï¼šCargoä¼šæŒ‰ç…§ä»é¡¹ç›®ç›®å½•åˆ°å…¨å±€ç›®å½•çš„å±‚çº§ç»“æ„è¯»å–é…ç½®ï¼Œè¯·ç¡®ä¿ä½ çš„é…ç½®æ–‡ä»¶æ”¾åœ¨æ­£ç¡®çš„ä½ç½®ï¼Œä¸”æ²¡æœ‰è¢«æ›´é«˜ä¼˜å…ˆçº§çš„é…ç½®è¦†ç›–ã€‚

å¸Œæœ›è¿™äº›æ­¥éª¤èƒ½å¸®åŠ©ä½ é¡ºåˆ©å¯ç”¨æ–°çš„Cargoé•œåƒã€‚å¦‚æœè¿˜æœ‰å…¶ä»–é—®é¢˜ï¼Œæ¬¢è¿éšæ—¶å†æ¥é—®æˆ‘ã€‚