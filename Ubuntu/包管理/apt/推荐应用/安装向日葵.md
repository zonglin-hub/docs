---
标题: 安装向日葵
创建时间:
修改时间:
标签:
  - Ubuntu24.04
  - 远程控制
---

## libgconf-2-4 问题

如图，Ubuntu24.04上安装向日葵提示依赖问题：未安装的软件包。
![d](./imgs/3584461-20251220182144335-652053787.png)

> [!NOTE]
> 向日葵安装依赖 `libgconf-2-4` 这个库，而 Ubuntu 24.04（以及较新的 Debian/Ubuntu 发行版）已彻底移除该老旧库，导致 dpkg 或 apt 安装失败。


## 处理方式：使用 equivs 制作虚拟包（假包）

用 equivs 创建一个虚拟包，假装提供 `libgconf-2-4`。具体步骤如下：
### 1. 安装 equivs

```bash
sudo apt update
sudo apt install equivs
```

### 2. 生成控制模板

```bash
equivs-control libgconf-2-4.control
```

这会在当前目录下生成一个名为`libgconf-2-4.control`的文本文件。

### 3. 编辑该文件

用编辑器打开该文件：

```bash
nano libgccontrol libgconf-2-4.control
onf-2-4.control
```

修改内容为如下文本（替换关键字或全选替换都可）：

```bash
Package: libgconf-2-4
Version: 3.2.6-7
Architecture: amd64
Maintainer: example;example@email.com
Description: Dummy package to satisfy libgconf-2-4 dependency
 This is a fake package to trick dpkg into thinking libgconf-2-4 is installed.
```

### 4. 构建虚拟包

```bash
equivs-build libgconf-2-4.control
```

成功后会生成一个 .deb 文件：`libgconf-2-4_3.2.6-7_amd64.deb`

### 5. 安装虚拟包

```bash
sudo dpkg -i libgconf-2-4_3.2.6-7_amd64.deb
```

此时系统认为 `libgconf-2-4` 已安装。

### 6. 安装向日葵原版安装包

```bash
sudo dpkg -i SunloginClient_*.deb
sudo apt --fix-broken install  # 如有其他依赖问题可自动修复
```

### 7. 安装成功

![](./imgs/3584461-20251220202247011-2145664463.png)



